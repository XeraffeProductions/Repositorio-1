<style>
  body {
    font-family: sans-serif;
    margin: 0;
    padding: 0;
  }

  .perfil-container {
    display: flex;
    height: 100vh;
  }

  .perfil-left {
    width: 200px;
    padding: 1rem;
    background-color: #f7f7f7;
    border-right: 1px solid #ccc;
  }

  .perfil-left button {
    width: 100%;
    padding: 0.6rem;
    margin-bottom: 1rem;
    border: 1px solid black;
    background: white;
    cursor: default;
  }

  .perfil-right {
    flex: 1;
    padding: 1rem;
    overflow-y: auto;
  }

  .perfil-header {
    display: flex;
    align-items: center;
    margin-bottom: 1.5rem;
  }

  .perfil-header img {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    margin-right: 1rem;
  }

  .feed-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 1rem;
  }

  .feed-grid img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border: 4px solid transparent;
    box-sizing: border-box;
  }

  .highlight-1 { border-color: rgba(255, 165, 0, 0.6); }
  .highlight-2 { border-color: rgba(255, 255, 0, 0.6); }
  .highlight-other { border-color: rgba(0, 128, 0, 0.6); }

  .upload-input {
    margin-bottom: 1rem;
  }
</style>

<div class="perfil-container">
  <div class="perfil-left">
    <button>Feed</button>
    <button>BÃ³veda</button>
    <button>Efectos tendencia</button>
  </div>
  <div class="perfil-right">
    <div class="perfil-header">
      <img src="https://via.placeholder.com/60" alt="Avatar">
      <h2>Mi Perfil</h2>
    </div>

    <input class="upload-input" type="file" accept="image/*" onchange="handleUpload(event)">
    <div class="feed-grid" id="feed"></div>
  </div>
</div>

<script>
  function handleUpload(event) {
    const file = event.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = (e) => {
      compressImage(e.target.result, (compressedDataUrl) => {
        const images = JSON.parse(localStorage.getItem('perfilFeed')) || [];
        images.push(compressedDataUrl);
        localStorage.setItem('perfilFeed', JSON.stringify(images));
        renderFeed();
      });
    };
    reader.readAsDataURL(file);
  }

  function compressImage(dataUrl, callback) {
    const img = new Image();
    img.onload = () => {
      const canvas = document.createElement('canvas');
      const maxWidth = 600;
      const scale = maxWidth / img.width;
      canvas.width = maxWidth;
      canvas.height = img.height * scale;

      const ctx = canvas.getContext('2d');
      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
      const compressed = canvas.toDataURL('image/jpeg', 0.7);
      callback(compressed);
    };
    img.src = dataUrl;
  }

  function renderFeed() {
    const feed = document.getElementById('feed');
    feed.innerHTML = '';
    const images = JSON.parse(localStorage.getItem('perfilFeed')) || [];

    images.forEach((src, i) => {
      const img = document.createElement('img');
      img.src = src;
      img.classList.add(i === 0 ? 'highlight-1' : i === 1 ? 'highlight-2' : 'highlight-other');
      feed.appendChild(img);
    });
  }

  // Mostrar al cargar
  document.addEventListener('DOMContentLoaded', renderFeed);
</script>
